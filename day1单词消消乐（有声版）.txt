
<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>å•è¯è¶£å‘³æ¶ˆæ¶ˆä¹</title>
<style>
    :root {
        --main-bg: #FFF5F5;
        --container-bg: #FFFFFF;
        --accent: #FFB3C6;
        --text: #66462C;
    }

    body {
        background: var(--main-bg);
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: å¾®è½¯é›…é»‘, sans-serif;
    }

    .game-container {
        background: var(--container-bg);
        border-radius: 30px;
        padding: 30px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        border: 3px solid var(--accent);
        width: 90%;
        max-width: 1200px;
    }

    .header {
        text-align: center;
        margin-bottom: 25px;
    }

    .title {
        font-size: 3.2em;
        color: var(--text);
        margin: 0 0 20px 0;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
    }

    .controls {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-bottom: 25px;
    }

    .difficulty-btn {
        font-size: 1.2em;
        padding: 12px 30px;
        border-radius: 25px;
        background: var(--accent);
        color: white;
        border: none;
        cursor: pointer;
        transition: all 0.2s;
    }

    .difficulty-btn.active {
        background: #FF759F;
        transform: scale(1.05);
    }

    #timer {
        text-align: center;
        font-size: 2em;
        color: var(--text);
        margin: 15px 0;
    }

    #score {
        text-align: center;
        font-size: 1.5em;
        color: var(--text);
        margin: 15px 0;
    }

    .game-columns {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        margin: 20px 0;
    }

    .column {
        background: #FFF0F0;
        border-radius: 20px;
        padding: 20px;
        min-height: 300px;
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        justify-content: center;
        align-content: flex-start;
    }

    .card {
        font-size: 1.8em;
        color: var(--text);
        background: white;
        border-radius: 20px;
        padding: 18px 35px;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        user-select: none;
        animation: cardAppear 0.3s ease-out;
    }

    @keyframes cardAppear {
        0% { transform: scale(0); }
        100% { transform: scale(1); }
    }

    .card.selected {
        transform: scale(0.95);
        background: #FFF5F5;
        box-shadow: 0 1px 3px rgba(0,0,0,0.2);
    }

    .card.matched {
        animation: popOut 0.4s forwards;
    }

    @keyframes popOut {
        0% { transform: scale(1); opacity: 1 }
        100% { transform: scale(0); opacity: 0 }
    }

    .victory-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.3);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
    }

    .victory-card {
        background: white;
        padding: 40px 60px;
        border-radius: 20px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        animation: scaleIn 0.3s ease-out;
    }

    @keyframes scaleIn {
        0% { transform: scale(0); }
        100% { transform: scale(1); }
    }
</style>
</head>
<body>
<div class="game-container">
    <div class="header">
        <h1 class="title">å•è¯è¶£å‘³æ¶ˆæ¶ˆä¹</h1>
        <div id="timer">æ—¶é—´: 0ç§’</div>
        <div id="score">æˆåŠŸ: 0æ¬¡ é”™è¯¯: 0æ¬¡</div>
    </div>

    <div class="controls">
        <button class="difficulty-btn" data-difficulty="4">é’é“œ</button>
        <button class="difficulty-btn" data-difficulty="6">é’»çŸ³</button>
        <button class="difficulty-btn" data-difficulty="10">ç‹è€…</button>
    </div>

    <div class="game-columns">
        <div class="column" id="english-column"></div>
        <div class="column" id="chinese-column"></div>
    </div>
</div>

<script>
// è¯æ±‡æ•°æ®é…ç½®
const vocabulary = [
{word: "watermelon", translation: "n. è¥¿ç“œ", type: " "},
{word: "cabbage", translation: "n. å·å¿ƒèœ", type: " "},
{word: "mutton", translation: "n. ç¾Šè‚‰", type: " "},
{word: "cookie", translation: "n. æ›²å¥‡é¥¼", type: " "},
{word: "onion", translation: "n. æ´‹è‘±", type: " "},
{word: "dumpling", translation: "n. é¥ºå­", type: " "},
{word: "coffee", translation: "n. å’–å•¡", type: " "},
{word: "bean", translation: "n. è±†", type: " "},
{word: "chip", translation: "n. ç‚¸è–¯æ¡", type: " "},
{word: "fish and chips", translation: "n. ç‚¸é±¼è–¯æ¡", type: " "},
{word: "salad", translation: "n. æ²™æ‹‰", type: " "},
{word: "porridge", translation: "n. ç²¥", type: " "},
{word: "waiter", translation: "n. ï¼ˆç”·ï¼‰æœåŠ¡å‘˜", type: " "},
{word: "taste", translation: "v. æœ‰â€¦â€¦ å‘³é“ï¼›å° / n. å‘³é“", type: " "},
{word: "anything", translation: "pron. æŸäº‹ç‰©ï¼›ä»»ä½•äº‹ç‰©", type: " "},
{word: "dish", translation: "n. ä¸€é“èœ / n. ç›˜å­ / n. é¤å…·", type: " "},
{word: "choice", translation: "n. é€‰æ‹©", type: " "},
{word: "meal", translation: "n. ä¸€é¤æ‰€åƒçš„é£Ÿç‰© / n. ä¸€é¤ / n. è†³é£Ÿ", type: " "},
{word: "pork", translation: "n. çŒªè‚‰", type: " "},
{word: "strawberry", translation: "n. è‰è“", type: " "},
{word: "menu", translation: "n. èœå•", type: " "},
{word: "customer", translation: "n. é¡¾å®¢", type: " "},
{word: "serve", translation: "v. æä¾› / v. æœåŠ¡ / v. ç«¯ä¸Šï¼ˆé¥­èœç­‰ï¼‰", type: " "},
{word: "waitress", translation: "n. å¥³æœåŠ¡å‘˜", type: " "},
{word: "sir", translation: "n. å…ˆç”Ÿ", type: " "},
{word: "go with", translation: "ph. æ­é…", type: " "},
{word: "instead", translation: "adv. åè€Œ / adv. ä»£æ›¿ / adv. é¡¶æ›¿", type: " "},
{word: "pear", translation: "n. æ¢¨", type: " "},
{word: "too much", translation: "ph. å¤ªå¤š", type: " "},
{word: "sugar", translation: "n. ç³–", type: " "},
{word: "improve", translation: "v. æ”¹è¿›ï¼›æ”¹å–„", type: " "},
{word: "habit", translation: "n. ä¹ æƒ¯", type: " "},
{word: "fast food", translation: "n. å¿«é¤", type: " "},
{word: "salt", translation: "n. ç›", type: " "},
{word: "fat", translation: "n. è„‚è‚ª / adj. è‚¥èƒ–çš„", type: " "},
{word: "put on", translation: "phv. å¢åŠ  / phv. ç©¿ä¸Š", type: " "},
{word: "weight", translation: "n. ä½“é‡ï¼›é‡é‡", type: " "},
{word: "hamburger", translation: "n. æ±‰å ¡åŒ…", type: " "},
{word: "cause", translation: "v. é€ æˆï¼›å¯¼è‡´", type: " "},
{word: "heart", translation: "n. å¿ƒè„ / n. ä¸­å¿ƒ", type: " "},
{word: "balanced", translation: "adj. å‡è¡¡çš„ï¼›å¹³è¡¡çš„", type: " "},
{word: "too...to", translation: "ph. å¤ªâ€¦â€¦ ä»¥è‡³äºä¸èƒ½", type: " "},
{word: "sleepy", translation: "adj. å›°å€¦çš„ï¼›æƒ³ç¡çš„", type: " "},
{word: "after all", translation: "ph. æ¯•ç«Ÿï¼›ç»ˆå½’", type: " "},
{word: "away", translation: "adv. ç¦»å¼€ / adv. åœ¨åˆ«å¤„", type: " "},
{word: "poor", translation: "adj. ä¸å¥½çš„ / adj. è´«ç©·çš„ / adj. å¯æ€œçš„", type: " "},
{word: "result", translation: "n. åæœï¼›ç»“æœ", type: " "},
{word: "article", translation: "n. æ–‡ç«  / n. å† è¯", type: " "},
{word: "common", translation: "adj. å…±åŒçš„ï¼›æ™®éçš„", type: " "},
{word: "among", translation: "prep. åœ¨â€¦â€¦ ä¸­ï¼›â€¦â€¦ ä¹‹ä¸€", type: " "},
{word: "soft", translation: "adj. æŸ”å’Œçš„ï¼›æŸ”è½¯çš„", type: " "},
{word: "soft drink", translation: "n. è½¯é¥®æ–™ï¼ˆä¸å«é…’ç²¾ï¼‰", type: " "},
{word: "enough", translation: "adj. è¶³å¤Ÿçš„ï¼›å……è¶³çš„ / adv. è¶³å¤Ÿåœ°ï¼›å……åˆ†åœ° / pron. è¶³å¤Ÿï¼›å……åˆ†", type: " "},
{word: "thirsty", translation: "adj. æ¸´çš„", type: " "}

];

// æ¸¸æˆæ ¸å¿ƒé€»è¾‘
let selectedCards = [];
let successCount = 0;
let errorCount = 0;
let totalPairs = 0;
let startTime = 0;
let timerInterval;

function initGame(pairCount) {
    // é‡ç½®æ¸¸æˆçŠ¶æ€
    clearInterval(timerInterval);
    selectedCards = [];
    successCount = 0;
    errorCount = 0;
    totalPairs = pairCount;
    startTime = Date.now();
    
    // éšæœºé€‰æ‹©æŒ‡å®šæ•°é‡çš„è¯æ±‡å¯¹
    const selected = shuffle([...vocabulary]).slice(0, pairCount);
    const pairs = selected.flatMap(item => [
        {text: `${item.word} ${item.type}`, value: item.word, type: 'en'},
        {text: item.translation, value: item.word, type: 'cn'}
    ]);
    
    // ç”Ÿæˆå¡ç‰‡
    const shuffledCards = shuffle(pairs);
    document.getElementById('english-column').innerHTML = 
        shuffledCards.filter(c => c.type === 'en').map(cardHTML).join('');
    document.getElementById('chinese-column').innerHTML = 
        shuffledCards.filter(c => c.type === 'cn').map(cardHTML).join('');
    
    // æ›´æ–°ç•Œé¢
    updateScore();
    timerInterval = setInterval(updateTimer, 1000);
}

function cardHTML(card) {
    return `<div class="card" data-value="${card.value}" data-type="${card.type}">${card.text}</div>`;
}

function handleCardClick(card) {
    if (card.classList.contains('matched')) return;
    
    // æ’­æ”¾å•è¯å‘éŸ³ï¼ˆä½¿ç”¨æœ‰é“å‘éŸ³æœåŠ¡ï¼‰
    const word = card.dataset.value;
    const audio = new Audio(`https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(word)}`);
    audio.play().catch(() => console.log('è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢'));

    // é€‰æ‹©é€»è¾‘
    card.classList.add('selected');
    selectedCards.push(card);

    if (selectedCards.length === 2) {
        setTimeout(checkMatch, 500);
    }
}

function checkMatch() {
    const [first, second] = selectedCards;
    const isMatch = first.dataset.value === second.dataset.value;

    if (isMatch) {
        successCount++;
        selectedCards.forEach(c => c.classList.add('matched'));
        if (successCount === totalPairs) showVictory();
    } else {
        errorCount++;
        selectedCards.forEach(c => c.classList.remove('selected'));
    }

    selectedCards = [];
    updateScore();
}

function updateScore() {
    document.getElementById('score').textContent = 
        `æˆåŠŸ: ${successCount}æ¬¡ é”™è¯¯: ${errorCount}æ¬¡`;
}

function updateTimer() {
    const seconds = Math.floor((Date.now() - startTime) / 1000);
    document.getElementById('timer').textContent = `æ—¶é—´: ${seconds}ç§’`;
}

function showVictory() {
    clearInterval(timerInterval);
    const overlay = document.createElement('div');
    overlay.className = 'victory-overlay';
    overlay.innerHTML = `
        <div class="victory-card">
            <h2>ğŸ‰ é—¯å…³æˆåŠŸï¼</h2>
            <p>ç”¨æ—¶ï¼š${Math.floor((Date.now() - startTime)/1000)}ç§’</p>
            <p>æ­£ç¡®ç‡ï¼š${Math.round(successCount/(successCount+errorCount)*100)}%</p>
            <button onclick="location.reload()">å†æ¥ä¸€æ¬¡</button>
        </div>
    `;
    document.body.appendChild(overlay);
}

// å·¥å…·å‡½æ•°
function shuffle(array) {
    return array.sort(() => Math.random() - 0.5);
}

// äº‹ä»¶ç›‘å¬
document.querySelectorAll('.difficulty-btn').forEach(btn => {
    btn.addEventListener('click', () => {
        document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        initGame(parseInt(btn.dataset.difficulty));
    });
});

document.querySelector('.game-columns').addEventListener('click', (e) => {
    if (e.target.classList.contains('card')) {
        handleCardClick(e.target);
    }
});

// é»˜è®¤å¼€å§‹é’é“œéš¾åº¦
document.querySelector('[data-difficulty="4"]').click();
</script>
</body>
</html>